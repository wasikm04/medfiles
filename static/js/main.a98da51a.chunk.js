(this.webpackJsonpmedfiles=this.webpackJsonpmedfiles||[]).push([[0],{123:function(e,t,a){e.exports=a(163)},128:function(e,t,a){},131:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),o=a.n(i),l=(a(128),a(10)),c=a(8),s=a(11),u=a(12),m=a(13),d=(a(129),a(50)),p=(a(131),a(19)),h=a(45),f=a(101),b=a(221),g=a(197),E=a(200),y=a(67),v=a(199),j=a(201),O=a(202),C=a(203),D=a(113),w=a.n(D),k=a(111),P=a.n(k),S=a(110),z=a.n(S),x=a(112),M=a.n(x),T=a(105),N=a.n(T),I=a(106),W=a.n(I),A=a(108),L=a.n(A),q=a(109),F=a.n(q),_=a(77),R=a.n(_),B=a(104),Z=a.n(B),V=a(107),K=a.n(V),H=a(6);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var U=r.a.createContext(),G=U.Consumer,Q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={card:null,isAuthenticated:!1,isDoctor:!1,doctorCard:null,user:"",updateCard:function(e){return a.updateCard(e)}},a.updateCard=function(e){a.setState((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(H.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{},e)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(U.Provider,{value:this.state},this.props.children)}}]),t}(n.Component),X=Object(f.a)((function(e){return{root:{display:"flex"},appBar:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240},drawer:{width:240,flexShrink:0},drawerPaper:{width:240,background:"rgb(24, 32, 44)",colour:"rgb(238, 238, 238)"},toolbar:e.mixins.toolbar,colour:{background:"rgb(35, 47, 62)",color:"white",textDecoration:"none"},link:{textDecoration:"none",color:"rgb(238, 238, 238)"}}}));function Y(){var e=X(),t=Object(n.useContext)(U),a=t.user,i=t.isAuthenticated,o=t.isDoctor;return r.a.createElement("div",{className:e.root},r.a.createElement(g.a,null),r.a.createElement(b.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},anchor:"left"},r.a.createElement(p.b,{className:e.colour,to:"/"},r.a.createElement("div",{className:e.toolbar},r.a.createElement(y.a,{className:e.toolbar,variant:"h4",align:"center",justify:"center"},"MedFiles"))),r.a.createElement(v.a,null),i?r.a.createElement(E.a,null,r.a.createElement(p.b,{to:"/home"},r.a.createElement(j.a,{button:!0,className:e.link},r.a.createElement(O.a,{className:e.link},r.a.createElement(Z.a,null)),r.a.createElement(C.a,{primary:"Strona G\u0142\xf3wna"}))),r.a.createElement(v.a,{className:e.colour}),o?r.a.createElement(p.b,{to:"/doctor-card/"+a},r.a.createElement(j.a,{button:!0,className:e.link},r.a.createElement(O.a,{className:e.link},r.a.createElement(N.a,null)),r.a.createElement(C.a,{primary:"Karta Lekarza"}))):r.a.createElement("div",null,r.a.createElement(p.b,{to:"/card"},r.a.createElement(j.a,{button:!0,className:e.link},r.a.createElement(O.a,{className:e.link},r.a.createElement(W.a,null)),r.a.createElement(C.a,{primary:"Karta Pacjenta"}))),r.a.createElement(p.b,{to:"/medical-tests"},r.a.createElement(j.a,{button:!0,className:e.link},r.a.createElement(O.a,{className:e.link},r.a.createElement(K.a,null)),r.a.createElement(C.a,{primary:"Badania"}))),r.a.createElement(p.b,{to:"/prescriptions"},r.a.createElement(j.a,{button:!0,className:e.link},r.a.createElement(O.a,{className:e.link},r.a.createElement(R.a,null)),r.a.createElement(C.a,{primary:"Recepty"}))),r.a.createElement(p.b,{to:"/referrals"},r.a.createElement(j.a,{button:!0,className:e.link},r.a.createElement(O.a,{className:e.link},r.a.createElement(L.a,null)),r.a.createElement(C.a,{primary:"Skierowania"}))),r.a.createElement(p.b,{to:"/treatments"},r.a.createElement(j.a,{button:!0,className:e.link},r.a.createElement(O.a,{className:e.link},r.a.createElement(F.a,null)),r.a.createElement(C.a,{primary:"Historia chor\xf3b"}))),r.a.createElement(p.b,{to:"/doctor-list"},r.a.createElement(j.a,{button:!0,className:e.link},r.a.createElement(O.a,{className:e.link},r.a.createElement(R.a,null)),r.a.createElement(C.a,{primary:"Karty lekarskie"})))),r.a.createElement(p.b,{to:"/appointments"},r.a.createElement(j.a,{button:!0,className:e.link},r.a.createElement(O.a,{className:e.link},r.a.createElement(z.a,null)),r.a.createElement(C.a,{primary:"Wizyty"}))),r.a.createElement(v.a,{className:e.colour}),r.a.createElement(p.b,{to:"/logout"},r.a.createElement(j.a,{button:!0,className:e.link},r.a.createElement(O.a,{className:e.link},r.a.createElement(P.a,null)),r.a.createElement(C.a,{primary:"Wyloguj"})))):r.a.createElement(E.a,null,r.a.createElement(p.b,{to:"/login"},r.a.createElement(j.a,{button:!0,className:e.link},r.a.createElement(O.a,{className:e.link},r.a.createElement(M.a,null)),r.a.createElement(C.a,{primary:"Logowanie"}))),r.a.createElement(p.b,{to:"/register"},r.a.createElement(j.a,{button:!0,className:e.link},r.a.createElement(O.a,{className:e.link},r.a.createElement(w.a,null)),r.a.createElement(C.a,{primary:"Rejestracja"})))),r.a.createElement(v.a,null)))}var $=a(9),ee=a(205),te=a(217),ae={userMail:"Adres email",firstName:"Imi\u0119",lastName:"Nazwisko",dateBirth:"Data urodzenia",sex:"P\u0142e\u0107",address:"Adres korespondencyjny",phoneNumber:"Numer telefonu",insuranceType:"Typ ubezpieczenia",prescriptions:"Recepty",dateTo:"Data wa\u017cno\u015bci",doctorMail:"Adres email lekarza",numberPWZ:"Numer prawa wykonywania zawodu",departmentNFZ:"Departament NFZ",permissions:"Dodatkowe uprawnienia",medicines:"Leki",medicalTests:"Badania",testDate:"Data badania",testName:"Nazwa badania",authorMail:"Adres email laboranta",patientMail:"Adres pacjenta",parametersWithReference:"Wyniki z odniesieniem",fileId:"Dokument badania",referrals:"Skierowania",date:"Data",purpose:"Cel skierowania",recognition:"Rozpoznanie",treatments:"Historia chor\xf3b",numberICD:"Numer ICD",symptomsAndDiagnosis:"Objawy i diagnoza",information:"Opis",title:"Tytu\u0142 naukowy",prescriptionRefundNumber:"Numer piecz\u0105tki",pharmacotherapy:"Farmakoterapia",medicalAnalysisAndRecommendations:"Epikryza",pesel:"Pesel",comment:"Komentarz",prescriptionId:"Numer recepty",dateTime:"Data",doctorFullName:"Imi\u0119 i nazwisko lekarza",specializations:"Specjalizacje"},ne=a(204),re=a(115);function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var oe={container:{display:"flex",flexWrap:"wrap"},textField:{width:200}},le=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){e.persist(),n.setState((function(t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(a,!0).forEach((function(t){Object(H.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.card);return a[e.target.id]=e.target.value,{card:a}}))},n.handleSubmit=function(e){e.preventDefault();a(16).post("/card",n.state.card,{headers:{"Content-Type":"application/json"}},{withCredentials:!0}).then((function(e){n.props.updateCard({card:n.state.card}),console.log(e),alert(e.data)})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y zapisane ze wzgl\u0119du na b\u0142\u0119dny/ju\u017c istniej\u0105cy email")}))},n.state={card:n.props.card,isDoctor:n.props.isDoctor},n.handleSubmit=n.handleSubmit.bind(Object($.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"prepareFields",value:function(e,t){var a=this;return Object.keys(e).map((function(n){return Array.isArray(e[n])||"userId"===n||"_id"===n?null:"dateBirth"===n?r.a.createElement(ne.a,{key:n,item:!0,xs:6,sm:6},r.a.createElement(te.a,{key:n,required:!0,disabled:t,id:n,label:ae[n],type:"date",margin:"normal",fullWidth:!0,variant:"filled",defaultValue:e[n],InputLabelProps:{shrink:!0},onChange:a.handleChange})):"address"===n?r.a.createElement(ne.a,{key:n,item:!0,xs:6,sm:6},r.a.createElement(te.a,{key:n,id:n,required:!0,fullWidth:!0,disabled:t,name:n,label:ae[n],value:e[n],onChange:a.handleChange,margin:"normal",variant:"filled"})):r.a.createElement(ne.a,{key:n,item:!0,xs:6,sm:6}," ",r.a.createElement(te.a,{required:!0,fullWidth:!0,id:n,disabled:t,label:ae[n],defaultValue:e[n],onChange:a.handleChange,margin:"normal",variant:"filled"}))}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Dane pacjenta")),r.a.createElement(re.a,{elevation:1,square:!0},r.a.createElement("form",{className:oe.container,onSubmit:this.handleSubmit},r.a.createElement(ne.a,{container:!0,justify:"center",spacing:2},this.prepareFields(this.state.card,this.state.isDoctor)),this.state.isDoctor?null:r.a.createElement(ne.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(ee.a,{type:"submit",id:"button",color:"primary",variant:"contained"},"Zapisz")))))}}]),t}(n.Component),ce=function(e){return r.a.createElement(G,null,(function(t){var a=t.card,n=t.updateCard,i=t.isDoctor;return r.a.createElement(le,Object.assign({},e,{card:a,updateCard:n,isDoctor:i}))}))},se=function(e,t,a){return Object.keys(e).map((function(n){if("_id"===n||"userMail"===n)return null;if("date"===n||"dateTo"===n||"testDate"===n)return r.a.createElement(ne.a,{key:n,item:!0,xs:6,sm:6},r.a.createElement(te.a,{key:n,required:!0,disabled:!t,id:n,label:ae[n],type:"date",margin:"normal",fullWidth:!0,variant:"filled",defaultValue:e[n],InputLabelProps:{shrink:!0},onChange:function(t){return a(t,e._id)}}));if("dateTime"===n)return r.a.createElement(ne.a,{key:n,item:!0,xs:6,sm:6},r.a.createElement(te.a,{key:n,required:!0,disabled:!t,id:n,label:ae[n],type:"datetype-local",margin:"normal",fullWidth:!0,variant:"filled",defaultValue:e[n],InputLabelProps:{shrink:!0},onChange:function(t){return a(t,e._id)}}));if("fileId"===n)return null;if("patientMail"===n)return r.a.createElement(ne.a,{key:n,item:!0,xs:6,sm:6},r.a.createElement(te.a,{disabled:t,fullWidth:!0,id:n,label:ae[n],defaultValue:e[n],onChange:function(t){return a(t,e._id)},margin:"normal",variant:"filled"}));if("comment"===n)return r.a.createElement(ne.a,{key:n,item:!0,xs:6,sm:6},r.a.createElement(te.a,{fullWidth:!0,id:n,multiline:!0,label:ae[n],defaultValue:e[n],onChange:function(t){return a(t,e._id)},margin:"normal",variant:"filled"}));if("information"===n)return r.a.createElement(ne.a,{key:n,item:!0,xs:6,sm:6},r.a.createElement(te.a,{fullWidth:!0,multiline:!0,row:2,id:n,disabled:!t,label:ae[n],defaultValue:e[n],onChange:function(t){return a(t,e._id)},margin:"normal",variant:"filled"}));if(Array.isArray(e[n])){var i=e[n].map((function(e){return r.a.createElement(j.a,{key:e,button:!0},r.a.createElement(C.a,{key:e,primary:e}))}));return r.a.createElement(ne.a,{key:n,item:!0,xs:6,sm:6},r.a.createElement(ne.a,{key:n,item:!0,container:!0,justify:"center",xs:6,sm:6},r.a.createElement(y.a,{variant:"h6"},ae[n])),r.a.createElement(E.a,{component:"nav","aria-label":"secondary mailbox folders"},i))}return r.a.createElement(ne.a,{key:n,item:!0,xs:6,sm:6}," ",r.a.createElement(te.a,{required:!0,fullWidth:!0,multiline:!0,disabled:!t,id:n,label:ae[n],defaultValue:e[n],onChange:function(t){return a(t,e._id)},margin:"normal",variant:"filled"}))}))},ue=a(206),me=a(210),de=a(209),pe=a(207),he=a(208),fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={doctorMail:a.props.doctorMail,patientMail:a.props.patientMail,appointments:null},a.reserve=a.reserve.bind(Object($.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;a(16).get("/appointment/"+this.state.doctorMail,{withCredentials:!0}).then((function(t){e.setState({appointments:t.data})})).catch((function(e){alert(e),console.log(e)}))}},{key:"reserve",value:function(e,t){var n=this;if(null!=e){e.patientMail=t;a(16).put("/appointment",e,{headers:{"Content-Type":"application/json"}},{withCredentials:!0}).then((function(t){console.log(t);var a=n.state.appointments.filter((function(t){return t._id!==e._id}));n.setState({appointments:a}),alert("Pomy\u015blnie zapisano kart\u0119")})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y zapisane ze wzgl\u0119du na b\u0142\u0119dny/ju\u017c istniej\u0105cy email")}))}}},{key:"showAppointmentsTable",value:function(e,t){var a=this;return r.a.createElement(re.a,null,r.a.createElement(ue.a,{"aria-label":"simple table"},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement(de.a,null,"Data wizyty"),r.a.createElement(de.a,{align:"right"},"Komentarz"),r.a.createElement(de.a,{align:"right"},"Rezerwacja"))),r.a.createElement(me.a,null,e.map((function(e){return r.a.createElement(he.a,{key:e._id},r.a.createElement(de.a,{component:"th",scope:"row"},r.a.createElement(te.a,{type:"datetype-local",margin:"normal",fullWidth:!0,disabled:!0,variant:"filled",defaultValue:e.dateTime})),r.a.createElement(de.a,{align:"right"},e.comment),r.a.createElement(de.a,{align:"right"},r.a.createElement(ee.a,{onClick:function(){return a.reserve(e,t)},id:"button",color:"primary",variant:"contained"},"Zarezerwuj")))})))))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{elevation:1,square:!0},r.a.createElement(ne.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Terminy wizyt")),r.a.createElement(ne.a,{container:!0,justify:"space-around"},null!=this.state.appointments?this.showAppointmentsTable(this.state.appointments,this.state.patientMail):null)))}}]),t}(n.Component);function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ge=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){e.persist(),n.setState((function(t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(a,!0).forEach((function(t){Object(H.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.doctorCard);return a[e.target.id]=e.target.value,{doctorCard:a}}))},n.handleSubmit=function(e){e.preventDefault();a(16).put("/doctor-card",n.state.doctorCard,{headers:{"Content-Type":"application/json"}},{withCredentials:!0}).then((function(e){n.props.updateCard({doctorCard:n.state.doctorCard}),console.log(e),alert("Pomy\u015blnie zapisano kart\u0119")})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y zapisane ze wzgl\u0119du na b\u0142\u0119dny/ju\u017c istniej\u0105cy email")}))},n.state={doctorCard:n.props.doctorCard,isDoctor:n.props.isDoctor},n.handleSubmit=n.handleSubmit.bind(Object($.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.state.isDoctor||this.getDoctorCard(this.props.match.params.doctorMail)}},{key:"getDoctorCard",value:function(e){var t=this;a(16).get("/doctor-card/"+e+"/",{withCredentials:!0}).then((function(e){t.setState({doctorCard:e.data})})).catch((function(e){alert(e),console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{elevation:1,square:!0},r.a.createElement(ne.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Karta lekarza")),r.a.createElement("form",{className:{container:{display:"flex",flexWrap:"wrap"}},onSubmit:this.handleSubmit},null!==this.state.doctorCard?r.a.createElement(ne.a,{container:!0,justify:"space-around"},se(this.state.doctorCard,this.state.isDoctor,this.handleChange)):null,this.state.isDoctor?r.a.createElement(ne.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(ee.a,{type:"submit",id:"button",color:"primary",variant:"contained"},"Zapisz")):null!==this.state.doctorCard?r.a.createElement(fe,{doctorMail:this.state.doctorCard.userMail,patientMail:this.props.user}):null)))}}]),t}(n.Component),Ee=function(e){return r.a.createElement(G,null,(function(t){var a=t.doctorCard,n=t.isDoctor,i=t.updateCard,o=t.user;return r.a.createElement(ge,Object.assign({},e,{doctorCard:a,updateCard:i,isDoctor:n,user:o}))}))},ye=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={username:a.props.user,isAuthenticated:a.props.isAuthenticated,isDoctor:a.props.isDoctor},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getCard",value:function(){var e=this;a(16).get("/card/"+this.state.username+"/",{withCredentials:!0}).then((function(t){console.log(t.data),e.props.updateCard({card:t.data})})).catch((function(e){alert(e),console.log(e)}))}},{key:"getDoctorCard",value:function(){var e=this;a(16).get("/doctor-card/"+this.state.username+"/",{withCredentials:!0}).then((function(t){console.log(t.data),e.props.updateCard({doctorCard:t.data})})).catch((function(e){alert(e),console.log(e)}))}},{key:"componentDidMount",value:function(){this.state.isDoctor?null!=this.props.doctorCard&&this.props.doctorCard.doctorMail===this.state.username||this.getDoctorCard():this.getCard()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Witaj ",this.state.username,"!"))}}]),t}(n.Component),ve=Object(d.b)((function(e){return r.a.createElement(G,null,(function(t){var a=t.isAuthenticated,n=t.updateCard,i=t.card,o=t.doctorCard,l=t.user,c=t.isDoctor;return r.a.createElement(ye,Object.assign({},e,{isAuthenticated:a,user:l,isDoctor:c,updateCard:n,card:i,doctorCard:o}))}))})),je=a(211),Oe=a(212),Ce=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(H.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){n.setState({isStatus:!0}),e.preventDefault();var t=new FormData;t.append("username",n.state.username),t.append("password",n.state.password);var r=a(16);r.post("/login",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){r.get("/user/role/"+n.state.username+"/",{withCredentials:!0}).then((function(e){var t=!!e.data.includes("ROLE_DOCTOR");n.props.updateCard({isDoctor:t,isAuthenticated:!0,user:n.state.username}),n.setState({password:"",isAuthenticated:!0,isStatus:!1}),localStorage.setItem("username",n.state.username)})).catch((function(e){console.log(e),n.setState({status:"Pobranie roli u\u017cytkownika nieudane "+e,isStatus:!1}),console.log(e)}))})).catch((function(e){n.setState({status:"Logowanie nieudane "+e,isStatus:!1}),console.log(e)}))},n.state={isAuthenticated:n.props.isAuthenticated,username:"",password:"",isStatus:!1,status:""},n.handleSubmit=n.handleSubmit.bind(Object($.a)(n)),n.getRole=n.getRole.bind(Object($.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"validateForm",value:function(){return this.state.username.length>0&&this.state.password.length>0}},{key:"getRole",value:function(e){var t=this;a(16).get("/user/role/"+e+"/",{withCredentials:!0}).then((function(a){if(a.data.includes("ROLE_USER")){var n=!!a.data.includes("ROLE_DOCTOR");t.props.updateCard({isDoctor:n,isAuthenticated:!0,user:e}),t.setState({isAuthenticated:!0})}}))}},{key:"componentDidMount",value:function(){var e=this.props.cookies,t=localStorage.getItem("username");null!=e.get("SESSION")&&null!=t&&this.getRole(t)}},{key:"render",value:function(){return this.state.isAuthenticated?r.a.createElement(h.a,{to:{pathname:"/home",state:{from:this.props.location}}}):r.a.createElement(je.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(y.a,{align:"center",component:"h1",variant:"h5"},"Logowanie"),r.a.createElement(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Email ",name:"email",autoComplete:"Adres email",autoFocus:!0,onChange:this.handleChange}),r.a.createElement(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Has\u0142o",type:"password",id:"password",autoComplete:"Wpisz has\u0142o",onChange:this.handleChange}),this.state.isStatus?r.a.createElement(y.a,{variant:"h4",component:"h3",align:"center",margin:"normal"},r.a.createElement(Oe.a,{align:"center"})):r.a.createElement(ee.a,{disabled:!this.validateForm(),type:"submit",fullWidth:!0,color:"primary",variant:"contained"},"Zaloguj")),r.a.createElement(y.a,{variant:"h4",component:"h3",align:"center",margin:"normal"},this.state.status))}}]),t}(n.Component),De=function(e){return r.a.createElement(G,null,(function(t){var a=t.isAuthenticated,n=t.updateCard;return r.a.createElement(Ce,Object.assign({},e,{isAuthenticated:a,updateCard:n}))}))},we=a(2),ke=function(e){var t=e.component,a=Object(we.a)(e,["component"]),i=Object(n.useContext)(U).isAuthenticated;return r.a.createElement(h.b,Object.assign({},a,{render:function(e){return i?r.a.createElement(t,e):r.a.createElement(h.a,{to:"/login"})}}))},Pe=function(e){var t=e.cookies;return Se(),t.remove("SESSION"),localStorage.clear(),e.updateCard({isAuthenticated:!1}),r.a.createElement(h.a,{to:{pathname:"/"}})},Se=function(){a(16).post("/logout",{withCredentials:!0}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},ze=function(e){return r.a.createElement(G,null,(function(t){var a=t.updateCard;return r.a.createElement(Pe,Object.assign({},e,{updateCard:a}))}))},xe=a(18);function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){e.persist(),a.setState((function(t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(a,!0).forEach((function(t){Object(H.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.appointment);return a[e.target.id]=e.target.value,{appointment:a}}))},a.deleteReservation=function(e){e.preventDefault();var t=a.state.appointment;t.patientMail=null,a.update(t),a.setState({appointment:null})},a.saveAppointment=function(e){e.preventDefault(),a.update(a.state.appointment)},a.state={appointment:a.props.appointment,isDoctor:a.props.isDoctor},a.saveAppointment=a.saveAppointment.bind(Object($.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"update",value:function(e){a(16).put("/appointment",e,{headers:{"Content-Type":"application/json"}},{withCredentials:!0}).then((function(e){alert("Pomy\u015blnie zapisano kart\u0119")})).catch((function(e){alert("Dane nie zosta\u0142y zapisane ze wzgl\u0119du na b\u0142\u0119dny/ju\u017c istniej\u0105cy email")}))}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{key:null!=this.state.appointment?this.state.appointment._id:1,className:{container:{display:"flex",flexWrap:"wrap"}},onSubmit:this.saveAppointment},r.a.createElement(ne.a,{container:!0,justify:"space-around",spacing:2},null!=this.state.appointment?se(this.state.appointment,this.state.isDoctor,this.handleChange):null),null!=this.state.appointment?r.a.createElement(ne.a,{key:!0,container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2},r.a.createElement(ee.a,{type:"submit",id:"button",color:"primary",variant:"contained"},"Zapisz"),this.state.isDoctor?null:r.a.createElement(ee.a,{onClick:function(t){return e.deleteReservation(t)},id:"button",color:"primary",variant:"contained"},"Usu\u0144")):null)}}]),t}(n.Component),Ne=a(222),Ie=a(213),We=a(223),Ae=a(40),Le=a.n(Ae),qe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t,a){n.setState({expanded:!!a&&e})}},n.addAppointment=function(e){e.preventDefault();var t={_id:null,patientMail:null,doctorMail:n.state.user,doctorFullName:n.state.doctorCard.firstName+" "+n.state.doctorCard.lastName,dateTime:e.target[1].value,comment:e.target[0].value};a(16).post("/appointment",t,{headers:{"Content-Type":"application/json"}},{withCredentials:!0}).then((function(e){console.log(e),n.setState((function(e){return{appointments:[].concat(Object(xe.a)(e.appointments),[t])}})),alert("Pomy\u015blnie dodano termin wizyty")})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y zapisane ze wzgl\u0119du na b\u0142\u0119dne dane")}))},n.state={appointments:null,isDoctor:n.props.isDoctor,user:n.props.user,doctorCard:n.props.doctorCard,expanded:""},n.addAppointment=n.addAppointment.bind(Object($.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=a(16),n="patient/";this.state.isDoctor&&(n="doctor/"),t.get("/appointment/"+n+this.state.user+"/",{withCredentials:!0}).then((function(t){e.setState({appointments:t.data})})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y pobrane, spr\xf3buj ponownie")}))}},{key:"renderAppointments",value:function(e,t){var a=this,n={marginLeft:"30px"};return r.a.createElement(ne.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2},e.map((function(e){return r.a.createElement(ne.a,{key:e.dateTime,item:!0},r.a.createElement(re.a,{elevation:3,square:!1},r.a.createElement(Ne.a,{expanded:a.state.expanded===e.dateTime,onChange:a.handleChange(e.dateTime)},r.a.createElement(We.a,{expandIcon:r.a.createElement(Le.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(ne.a,{container:!0,direction:"row"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Wizyta ",e.dateTime.split("T")[0]+" "+e.dateTime.split("T")[1]),null!=e.patientMail&&t?r.a.createElement(ne.a,{item:!0,style:n},r.a.createElement(p.b,{to:"/patient-card/"+e.patientMail},r.a.createElement(ee.a,{id:"button",color:"primary",variant:"contained"},"Karta Pacjenta"))):null)),r.a.createElement(Ie.a,null,r.a.createElement(Te,{appointment:e,isDoctor:t})))))})))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Terminy wizyt")),r.a.createElement(re.a,{elevation:1,square:!0},this.state.appointments?this.renderAppointments(this.state.appointments,this.state.isDoctor):null,this.state.isDoctor?r.a.createElement(re.a,{elevation:1,square:!0},r.a.createElement("form",{onSubmit:this.addAppointment},r.a.createElement(ne.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Nowa wizyta"),r.a.createElement(te.a,{fullWidth:!0,required:!0,id:"comment",label:"Komentarz",margin:"normal",multiline:!0,variant:"filled",name:"comment"}),r.a.createElement(te.a,{required:!0,id:"date",label:"Data",type:"datetime-local",margin:"normal",fullWidth:!0,variant:"filled",name:"date",InputLabelProps:{shrink:!0}}),r.a.createElement(ee.a,{type:"submit",id:"button",color:"primary",variant:"contained"},"Dodaj")))):null))}}]),t}(n.Component),Fe=function(e){return r.a.createElement(G,null,(function(t){var a=t.isDoctor,n=t.user,i=t.doctorCard;return r.a.createElement(qe,Object.assign({},e,{isDoctor:a,user:n,doctorCard:i}))}))},_e=a(114),Re=a.n(_e),Be={background:"rgb(35, 47, 62)",color:"white",textDecoration:"none"},Ze=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).changeSelect=function(e){n.setState({search:e.target.value})},n.handlePageClick=function(e){var t=e.selected;n.getPage(t)},n.handleSearch=function(e,t){""!==t&&(n.setState({doctors:null}),a(16).get("/doctor-card/list/0?text="+t,{withCredentials:!0}).then((function(e){n.setState({doctors:e.data})})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y pobrane, spr\xf3buj ponownie")})))},n.renderTable=function(e){if(null!==e)return r.a.createElement(re.a,null,r.a.createElement(ue.a,{"aria-label":"simple table"},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement(de.a,null,"Imi\u0119 i nazwisko"),r.a.createElement(de.a,{align:"right"},"Specjalizacje"),r.a.createElement(de.a,{align:"right"},"Adres email"))),r.a.createElement(me.a,null,e.content.map((function(e){return r.a.createElement(he.a,{key:e.userMail},r.a.createElement(de.a,{component:"th",scope:"row"},r.a.createElement(p.b,{className:Be,to:"/doctor-card/"+e.userMail},e.firstName+" "+e.lastName)),r.a.createElement(de.a,{align:"right"},e.specializations.map((function(e){return r.a.createElement(j.a,{key:e,button:!0},r.a.createElement(C.a,{primary:e}))}))),r.a.createElement(de.a,{align:"right"},e.userMail))})))))},n.state={doctors:null,search:""},n.handlePageClick=n.handlePageClick.bind(Object($.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getPage",value:function(e){var t=this;a(16).get("/doctor-card/list/"+e,{withCredentials:!0}).then((function(e){t.setState({doctors:e.data})})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y pobrane, spr\xf3buj ponownie")}))}},{key:"componentDidMount",value:function(){this.getPage(0)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{elevation:1,square:!0},r.a.createElement(ne.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Kartoteki lekarzy"),r.a.createElement(ne.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(te.a,{id:"standard-basic",label:"Wyszukaj lekarza",margin:"normal",onChange:this.changeSelect}),r.a.createElement(ee.a,{onClick:function(t){return e.handleSearch(t,e.state.search)},id:"button"},"Szukaj"))),null!==this.state.doctors?r.a.createElement(ne.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},this.renderTable(this.state.doctors),r.a.createElement(Re.a,{previousLabel:"Poprzednia",nextLabel:"Nast\u0119pna",breakLabel:"...",pageCount:this.state.doctors.totalPages,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.handlePageClick,subContainerClassName:"pages pagination",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})):r.a.createElement(y.a,{variant:"h4",component:"h3",align:"center",margin:"normal"},r.a.createElement(Oe.a,{align:"center"}))))}}]),t}(n.Component);function Ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ve(a,!0).forEach((function(t){Object(H.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ve(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var He=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){e.persist(),n.setState((function(t){var a=Ke({},t.medicalTest);return a[e.target.id]=e.target.value,{medicalTest:a}}))},n.download=function(e,t,n){e.preventDefault(),a(16).get("/download/"+n+"/"+t,{withCredentials:!0}).then((function(e){console.log(e.blob);var t=e.headers.get("Content-Disposition").split("filename=")[1];console.log(t)})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y pobrane ze wzgl\u0119du na b\u0142\u0119dy")}))},n.loadFile=function(e){e.preventDefault(),console.log(e.target);var t=e.target.files[0];n.setState({image:t})},n.upload=function(e,t,n,r){e.preventDefault();var i=new FormData;i.append("image",r),a(16).post("/upload/"+t+"/"+n,i,{withCredentials:!0}).then((function(e){alert(e.data)})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y zapisane ze wzgl\u0119du na b\u0142\u0119dy")}))},n.saveMedicalTest=function(e){e.preventDefault();var t=Ke({},n.state.medicalTest,{userMail:n.state.patientMail});a(16).put("/medical-test",t,{headers:{"Content-Type":"application/json"}},{withCredentials:!0}).then((function(e){console.log(e),alert("Pomy\u015blnie zapisano kart\u0119")})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y zapisane ze wzgl\u0119du na b\u0142\u0119dny/ju\u017c istniej\u0105cy email")}))},n.state={medicalTest:n.props.medicalTest,patientMail:n.props.user,isDoctor:n.props.isDoctor,image:null},n.saveMedicalTest=n.saveMedicalTest.bind(Object($.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{key:this.state.medicalTest._id,className:{container:{display:"flex",flexWrap:"wrap"}},onSubmit:this.saveMedicalTest},r.a.createElement(ne.a,{container:!0,justify:"space-around",alignItems:"center"},se(this.state.medicalTest,this.state.isDoctor,this.handleChange),null!=this.state.medicalTest.fileId?r.a.createElement(ne.a,{item:!0},r.a.createElement(ee.a,{variant:"contained",component:"span"},r.a.createElement("a",{href:"http://localhost:8080/download/"+this.state.patientMail+"/"+this.state.medicalTest.fileId,rel:"noopener noreferrer",target:"_blank"},"Pobierz badanie"))):this.state.isDoctor?r.a.createElement(ne.a,{item:!0,xs:6,sm:6},r.a.createElement("input",{required:!0,accept:"*",id:"contained-button-file",type:"file",onChange:this.loadFile}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(ee.a,{variant:"contained",component:"span",onClick:function(t){return e.upload(t,e.state.patientMail,e.state.medicalTest._id,e.state.image)}},"Zapisz dokument badania"))):null),this.state.isDoctor?r.a.createElement(ne.a,{key:!0,container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(ee.a,{type:"submit",id:"button",color:"primary",variant:"contained"},"Zapisz")):null)}}]),t}(n.Component);function Je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Ue=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChangePanel=function(e){return function(t,a){n.setState({expanded:!!a&&e})}},n.handleChange=function(e){e.persist(),n.setState((function(t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Je(a,!0).forEach((function(t){Object(H.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Je(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.medicalTests);return a[e.target.id]=e.target.value,{medicalTests:a}}))},n.pushToParametersList=function(e){e.persist(),n.setState((function(e){return{parametersList:[].concat(Object(xe.a)(e.parametersList),[n.state.parameter])}}))},n.addMedicalTest=function(e){e.preventDefault();var t={_id:null,userMail:n.state.patientMail,testDate:e.target[1].value,testName:e.target[0].value,authorMail:n.state.doctorMail,parametersWithReference:n.state.parametersList,fileId:null,expanded:""};a(16).post("/medical-test",t,{headers:{"Content-Type":"application/json"}},{withCredentials:!0}).then((function(e){console.log(e),alert("Pomy\u015blnie zapisano kart\u0119"),t._id=e.data,console.log(t),n.setState((function(e){return{medicalTests:[].concat(Object(xe.a)(e.medicalTests),[t])}}))})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y zapisane ze wzgl\u0119du na b\u0142\u0119dne dane")}))},n.state={medicalTests:n.props.card.medicalTests,isDoctor:n.props.isDoctor,doctorMail:n.props.user,patientMail:n.props.card.userMail,parametersList:[],parameter:null,expanded:""},n.addMedicalTest=n.addMedicalTest.bind(Object($.a)(n)),n.pushToParametersList=n.pushToParametersList.bind(Object($.a)(n)),n.handleParameterChange=n.handleParameterChange.bind(Object($.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleParameterChange",value:function(e){this.setState({parameter:e.target.value})}},{key:"prepareForms",value:function(e,t){var a=this;return r.a.createElement(ne.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center",spacing:2},e.map((function(e){return r.a.createElement(ne.a,{key:e.testDate+e._id,item:!0},r.a.createElement(re.a,{elevation:3,square:!1},r.a.createElement(Ne.a,{expanded:a.state.expanded===e.testDate+e._id,onChange:a.handleChangePanel(e.testDate+e._id)},r.a.createElement(We.a,{expandIcon:r.a.createElement(Le.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Badanie ",e.testDate)),r.a.createElement(Ie.a,null,r.a.createElement(He,{medicalTest:e,isDoctor:t,user:a.state.patientMail})))))})))}},{key:"render",value:function(){var e=this,t=(new Date).toISOString().split("T")[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Wyniki bada\u0144")),this.prepareForms(this.state.medicalTests,this.state.isDoctor,this.state.patientMail),this.state.isDoctor?r.a.createElement(re.a,{elevation:1,square:!0},r.a.createElement("form",{onSubmit:this.addMedicalTest},r.a.createElement(ne.a,{container:!0,justify:"center"},r.a.createElement(ne.a,{item:!0,xs:12,container:!0,justify:"center"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Nowe wyniki")),r.a.createElement(ne.a,{item:!0,xs:6,container:!0,justify:"center"},r.a.createElement(te.a,{fullWidth:!0,required:!0,id:"purpose",label:"Nazwa badania",margin:"normal",variant:"filled",name:"testName"})),r.a.createElement(ne.a,{item:!0,xs:6,container:!0,justify:"center"},r.a.createElement(te.a,{required:!0,id:"date",label:"Data",type:"date",defaultValue:t,margin:"normal",fullWidth:!0,variant:"filled",name:"date",InputLabelProps:{shrink:!0}})),r.a.createElement(ne.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ne.a,{item:!0,xs:6,container:!0,justify:"center"},r.a.createElement(ue.a,{"aria-label":"simple table"},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement(de.a,null,"Wynik z odniesieniem"))),r.a.createElement(me.a,null,r.a.createElement(he.a,null,r.a.createElement(de.a,{align:"right"},this.state.parametersList.map((function(e){return r.a.createElement(j.a,{key:e,button:!0},r.a.createElement(C.a,{primary:e}))}))))))),r.a.createElement(ne.a,{item:!0,xs:6,container:!0,justify:"center"},r.a.createElement(te.a,{fullWidth:!0,required:!0,id:"purpose",label:"Parametr z odniesieniem",margin:"normal",variant:"filled",onChange:this.handleParameterChange,name:"testName"}),r.a.createElement(ne.a,{item:!0},r.a.createElement(ee.a,{onClick:function(t){return e.pushToParametersList(t)},id:"button",color:"primary",variant:"contained"},"Dodaj parametr")))),r.a.createElement(ne.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ee.a,{type:"submit",id:"button",color:"primary",variant:"contained"},"Zapisz wyniki"))))):null)}}]),t}(n.Component),Ge=function(e){return r.a.createElement(G,null,(function(t){var a=t.user,n=t.card,i=t.isDoctor,o=t.updateCard;return r.a.createElement(Ue,Object.assign({},e,{card:n,user:a,updateCard:o,isDoctor:i}))}))};function Qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qe(a,!0).forEach((function(t){Object(H.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ye=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){e.persist(),n.setState((function(t){var a=Xe({},t.prescription);return a[e.target.id]=e.target.value,{prescription:a}}))},n.savePrescription=function(e){console.log(e),e.preventDefault();var t=Xe({},n.state.prescription,{userMail:n.state.patientMail});a(16).put("/prescription",t,{headers:{"Content-Type":"application/json"}},{withCredentials:!0}).then((function(e){console.log(e),alert("Pomy\u015blnie zapisano kart\u0119")})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y zapisane ze wzgl\u0119du na b\u0142\u0119dny/ju\u017c istniej\u0105cy email")}))},n.state={prescription:n.props.prescription,patientMail:n.props.user,isDoctor:n.props.isDoctor},n.savePrescription=n.savePrescription.bind(Object($.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{key:this.state.prescription._id,className:{container:{display:"flex",flexWrap:"wrap"}},onSubmit:this.savePrescription},r.a.createElement(ne.a,{container:!0,justify:"space-around",alignItems:"center"},se(this.state.prescription,this.state.isDoctor,this.handleChange),this.state.isDoctor?r.a.createElement(ne.a,{key:!0,container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(ee.a,{type:"submit",id:"button",color:"primary",variant:"contained"},"Zapisz")):null))}}]),t}(n.Component);function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var et=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChangePanel=function(e){return function(t,a){n.setState({expanded:!!a&&e})}},n.handleChange=function(e){e.persist(),n.setState((function(t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(a,!0).forEach((function(t){Object(H.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.prescriptions);return a[e.target.id]=e.target.value,{prescriptions:a}}))},n.pushToMedicinesList=function(e){e.persist(),n.setState((function(e){return{medicinesList:[].concat(Object(xe.a)(e.medicinesList),[n.state.medicine])}}))},n.addPrescription=function(e){e.preventDefault();var t={_id:null,prescriptionId:e.target[2].value,userMail:n.state.patientMail,dateTo:e.target[1].value,doctorMail:n.state.doctorMail,numberPWZ:n.state.numberPWZ,departmentNFZ:e.target[3].value,permissions:e.target[0].value,medicines:n.state.medicinesList};console.log(t);a(16).post("/prescription",t,{headers:{"Content-Type":"application/json"}},{withCredentials:!0}).then((function(e){console.log(e),alert("Pomy\u015blnie zapisano kart\u0119"),n.setState((function(e){return{prescriptions:[].concat(Object(xe.a)(e.prescriptions),[t])}}))})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y zapisane ze wzgl\u0119du na b\u0142\u0119dne dane")}))},n.state={prescriptions:n.props.card.prescriptions,isDoctor:n.props.isDoctor,doctorMail:n.props.user,numberPWZ:n.props.numberPWZ,patientMail:n.props.card.userMail,medicinesList:[],medicine:null,expanded:""},n.addPrescription=n.addPrescription.bind(Object($.a)(n)),n.pushToMedicinesList=n.pushToMedicinesList.bind(Object($.a)(n)),n.handleMedicineChange=n.handleMedicineChange.bind(Object($.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleMedicineChange",value:function(e){this.setState({medicine:e.target.value})}},{key:"prepareForms",value:function(e,t){var a=this;return r.a.createElement(ne.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center",spacing:2},e.map((function(e){return r.a.createElement(ne.a,{key:e.prescriptionId+e.dateTo,item:!0},r.a.createElement(re.a,{elevation:3,square:!1},r.a.createElement(Ne.a,{expanded:a.state.expanded===e.dateTo+e._id,onChange:a.handleChangePanel(e.dateTo+e._id)},r.a.createElement(We.a,{expandIcon:r.a.createElement(Le.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Recepta ",e.prescriptionId)),r.a.createElement(Ie.a,null,r.a.createElement(Ye,{prescription:e,isDoctor:t,user:a.state.patientMail})))))})))}},{key:"render",value:function(){var e=this,t=(new Date).toISOString().split("T")[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Recepty")),this.prepareForms(this.state.prescriptions,this.state.isDoctor,this.state.patientMail),this.state.isDoctor?r.a.createElement(re.a,{elevation:1,square:!0},r.a.createElement("form",{onSubmit:this.addPrescription},r.a.createElement(ne.a,{container:!0,justify:"center"},r.a.createElement(ne.a,{item:!0,xs:12,container:!0,justify:"center"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Nowa recepta")),r.a.createElement(ne.a,{item:!0,xs:6,container:!0,justify:"center"},r.a.createElement(te.a,{fullWidth:!0,required:!0,id:"purpose",label:"Dodatkowe uprawnienia",margin:"normal",variant:"filled",name:"testName"})),r.a.createElement(ne.a,{item:!0,xs:6,container:!0,justify:"center"},r.a.createElement(te.a,{required:!0,id:"date",label:"Termin realizacji",type:"date",margin:"normal",defaultValue:t,fullWidth:!0,variant:"filled",name:"date",InputLabelProps:{shrink:!0}})),r.a.createElement(ne.a,{item:!0,xs:6,container:!0,justify:"center"},r.a.createElement(te.a,{fullWidth:!0,required:!0,id:"purpose",label:"Numer recepty",margin:"normal",variant:"filled",name:"testName"})),r.a.createElement(ne.a,{item:!0,xs:6,container:!0,justify:"center"},r.a.createElement(te.a,{fullWidth:!0,required:!0,id:"purpose",label:"Departament NFZ",margin:"normal",variant:"filled",name:"testName"})),r.a.createElement(ne.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ue.a,{"aria-label":"customized table"},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement(de.a,null,"Leki"))),r.a.createElement(me.a,null,r.a.createElement(he.a,null,r.a.createElement(de.a,{align:"right"},this.state.medicinesList.map((function(e){return r.a.createElement(j.a,{key:e,button:!0},r.a.createElement(C.a,{primary:e}))})))))),r.a.createElement(te.a,{required:!0,id:"purpose",label:"Lek",margin:"normal",variant:"filled",onChange:this.handleMedicineChange,name:"testName"}),r.a.createElement(ne.a,{item:!0},r.a.createElement(ee.a,{onClick:function(t){return e.pushToMedicinesList(t)},id:"button",color:"primary",variant:"contained"},"Dodaj lek"))),r.a.createElement(ne.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ee.a,{type:"submit",id:"button",color:"primary",variant:"contained"},"Zapisz now\u0105 recept\u0119"))))):null)}}]),t}(n.Component),tt=function(e){return r.a.createElement(G,null,(function(t){var a=t.user,n=t.card,i=t.isDoctor,o=t.updateCard;return r.a.createElement(et,Object.assign({},e,{card:n,user:a,updateCard:o,isDoctor:i}))}))};function at(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?at(a,!0).forEach((function(t){Object(H.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):at(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var rt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){e.persist(),n.setState((function(t){var a=nt({},t.referral);return a[e.target.id]=e.target.value,{referral:a}}))},n.saveReferral=function(e){e.preventDefault();var t=nt({},n.state.referral,{userMail:n.props.userMail});a(16).put("/referral",t,{headers:{"Content-Type":"application/json"}},{withCredentials:!0}).then((function(e){console.log(e),alert("Pomy\u015blnie zapisano kart\u0119")})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y zapisane ze wzgl\u0119du na b\u0142\u0119dny/ju\u017c istniej\u0105cy email")}))},n.state={referral:n.props.referral,isDoctor:n.props.isDoctor},n.saveReferral=n.saveReferral.bind(Object($.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{key:this.state.referral._id,className:{container:{display:"flex",flexWrap:"wrap"}},onSubmit:this.saveReferral},r.a.createElement(ne.a,{container:!0,justify:"space-around",spacing:2},se(this.state.referral,this.state.isDoctor,this.handleChange)),this.state.isDoctor?r.a.createElement(ne.a,{key:!0,container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(ee.a,{type:"submit",id:"button",color:"primary",variant:"contained"},"Zapisz")):null)}}]),t}(n.Component),it=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChangePanel=function(e){return function(t,a){n.setState({expanded:!!a&&e})}},n.addReferral=function(e){e.preventDefault();var t={_id:null,date:e.target[1].value,userMail:n.state.patientMail,purpose:e.target[0].value,recognition:e.target[2].value,doctorMail:n.state.doctorMail,numberPWZ:n.state.numberPWZ};console.log(t);a(16).post("/referral",t,{headers:{"Content-Type":"application/json"}},{withCredentials:!0}).then((function(e){console.log(e),alert("Pomy\u015blnie zapisano kart\u0119"),n.setState((function(e){return{referrals:[].concat(Object(xe.a)(e.referrals),[t])}}))})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y zapisane ze wzgl\u0119du na b\u0142\u0119dne dane")}))},n.state={referrals:n.props.card.referrals,isDoctor:n.props.isDoctor,doctorMail:n.props.user,patientMail:n.props.card.userMail,numberPWZ:n.props.numberPWZ,expanded:""},n.addReferral=n.addReferral.bind(Object($.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"prepareForms",value:function(e,t,a){var n=this;return r.a.createElement(ne.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center",spacing:2},e.map((function(e){return r.a.createElement(ne.a,{key:e.date+e._id,item:!0},r.a.createElement(re.a,{elevation:3,square:!1},r.a.createElement(Ne.a,{expanded:n.state.expanded===e.date+e._id,onChange:n.handleChangePanel(e.date+e._id)},r.a.createElement(We.a,{expandIcon:r.a.createElement(Le.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Skierowanie ",e.date)),r.a.createElement(Ie.a,null,r.a.createElement(rt,{referral:e,isDoctor:t,userMail:a})))))})))}},{key:"render",value:function(){var e=(new Date).toISOString().split("T")[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Skierowania")),this.prepareForms(this.state.referrals,this.state.isDoctor,this.state.patientMail),this.state.isDoctor?r.a.createElement(re.a,{elevation:1,square:!0},r.a.createElement("form",{onSubmit:this.addReferral},r.a.createElement(ne.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ne.a,{item:!0,xs:12,container:!0,justify:"center"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Nowe skierowanie")),r.a.createElement(ne.a,{item:!0,xs:6,container:!0,justify:"center"},r.a.createElement(te.a,{fullWidth:!0,required:!0,id:"purpose",multiline:!0,label:"Cel skierowania",margin:"normal",variant:"filled",name:"purpose"})),r.a.createElement(ne.a,{item:!0,xs:6,container:!0,justify:"center"},r.a.createElement(te.a,{required:!0,id:"date",multiline:!0,row:2,label:"Data",type:"date",margin:"normal",defaultValue:e,fullWidth:!0,variant:"filled",name:"date",InputLabelProps:{shrink:!0}})),r.a.createElement(te.a,{fullWidth:!0,required:!0,id:"reckognition",label:"Rozpoznanie",margin:"normal",variant:"filled",name:"reckognition"}),r.a.createElement(ee.a,{type:"submit",id:"button",color:"primary",variant:"contained"},"Dodaj")))):null)}}]),t}(n.Component),ot=function(e){return r.a.createElement(G,null,(function(t){var a=t.card,n=t.isDoctor,i=t.user,o=t.updateCard;return r.a.createElement(it,Object.assign({},e,{card:a,user:i,updateCard:o,isDoctor:n}))}))},lt=a(219),ct=a(215),st=a(214);var ut=function(e){var t=(new Date).toISOString().split("T")[0];return r.a.createElement(re.a,{elevation:1,square:!0},r.a.createElement("form",{onSubmit:null!=e.handleChange?e.handleChange:null},r.a.createElement(ne.a,{container:!0,justify:"center"},null!=e.information&&null!=e.information.doctorMail?r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Autor zapisu",r.a.createElement(p.b,{to:"/doctor-card/"+e.information.doctorMail}," "+e.information.doctorMail)):r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Nowy zapis"),r.a.createElement(te.a,{required:!0,id:"date",disabled:!e.isDoctor,label:"Data",type:"date",margin:"normal",defaultValue:null!=e.information?e.information.date:t,fullWidth:!0,variant:"filled",name:"date",InputLabelProps:{shrink:!0}}),r.a.createElement(te.a,{fullWidth:!0,required:!0,multiline:!0,disabled:!e.isDoctor,defaultValue:null!=e.information?e.information.information:null,id:"purpose",label:"Opis",margin:"normal",variant:"filled",name:"testName"}),e.isDoctor?r.a.createElement(ne.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ee.a,{type:"submit",id:"button",color:"primary",variant:"contained"},"Dodaj do listy")):null)))},mt=a(218);function dt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dt(a,!0).forEach((function(t){Object(H.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ht(e){var t=e.children,a=e.value,n=e.index,i=Object(we.a)(e,["children","value","index"]);return r.a.createElement(y.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},i),r.a.createElement(mt.a,{p:3},t))}var ft=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleTab=function(e,t){n.setState({selected:t})},n.handleChange=function(e){e.persist(),n.setState((function(t){var a=pt({},t.treatment);return a[e.target.id]=e.target.value,{treatment:a}}))},n.pushToParametersList=function(e,t){e.preventDefault(),e.persist();var a={date:e.target[0].value,information:e.target[1].value,doctorMail:n.state.doctorMail},r=n.state.treatment[t];r=[].concat(Object(xe.a)(r),[a]),n.setState((function(e){return{treatment:pt({},e.treatment,Object(H.a)({},t,r))}}))},n.saveTreatment=function(e){e.preventDefault();var t=pt({},n.state.treatment,{userMail:n.state.patientMail});console.log(t);a(16).put("/treatment",t,{headers:{"Content-Type":"application/json"}},{withCredentials:!0}).then((function(e){console.log(e),alert("Pomy\u015blnie zapisano kart\u0119")})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y zapisane ze wzgl\u0119du na b\u0142\u0119dny/ju\u017c istniej\u0105cy email")}))},n.state={treatment:n.props.treatment,patientMail:n.props.user,isDoctor:n.props.isDoctor,doctorMail:n.props.doctorMail,selected:0,symptoms:[],pharmacotherapy:[],medicalAnalysis:[]},n.saveTreatment=n.saveTreatment.bind(Object($.a)(n)),n.pushToParametersList=n.pushToParametersList.bind(Object($.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=new Date;return r.a.createElement(ne.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(st.a,{position:"static",color:"default"},r.a.createElement(lt.a,{value:this.state.selected,onChange:this.handleTab,indicatorColor:"primary",textColor:"primary",scrollButtons:"auto","aria-label":"scrollable auto tabs example",centered:!0},r.a.createElement(ct.a,{label:"Symptomy i diagnoza"}),r.a.createElement(ct.a,{label:"Farmakoterapia"}),r.a.createElement(ct.a,{label:"Analiza medyczna i zalecenia"}))),r.a.createElement(ht,{value:this.state.selected,index:0},this.state.treatment.symptomsAndDiagnosis.map((function(e){return r.a.createElement(ut,{key:t.toISOString()+e._id,information:e})})),this.state.isDoctor?r.a.createElement(ut,{handleChange:function(t){return e.pushToParametersList(t,"symptomsAndDiagnosis")},isDoctor:this.state.isDoctor}):null),r.a.createElement(ht,{value:this.state.selected,index:1},this.state.treatment.pharmacotherapy.map((function(e){return r.a.createElement(ut,{key:t.toISOString()+e._id,information:e})})),this.state.isDoctor?r.a.createElement(ut,{handleChange:function(t){return e.pushToParametersList(t,"pharmacotherapy")},isDoctor:this.state.isDoctor}):null),r.a.createElement(ht,{value:this.state.selected,index:2},this.state.treatment.medicalAnalysisAndRecommendations.map((function(e){return r.a.createElement(ut,{key:t.toISOString()+e._id,information:e})})),this.state.isDoctor?r.a.createElement(ut,{handleChange:function(t){return e.pushToParametersList(t,"medicalAnalysisAndRecommendations")},isDoctor:this.state.isDoctor}):null),this.state.isDoctor?r.a.createElement(ne.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ee.a,{onClick:function(t){return e.saveTreatment(t)},id:"button",color:"primary",variant:"contained"},"Zapisz historie")):null)}}]),t}(n.Component);function bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function gt(e){var t=e.children,a=e.value,n=e.index,i=Object(we.a)(e,["children","value","index"]);return r.a.createElement(y.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},i),r.a.createElement(mt.a,{p:3},t))}var Et=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChangePanel=function(e){return function(t,a){n.setState({expanded:!!a&&e})}},n.handleTab=function(e,t){n.setState({selected:t})},n.handleChange=function(e){e.persist(),n.setState((function(t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bt(a,!0).forEach((function(t){Object(H.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.treatments);return a[e.target.id]=e.target.value,{treatments:a}}))},n.pushToParametersList=function(e,t){e.preventDefault(),e.persist();var a={date:e.target[0].value,information:e.target[1].value,doctorMail:n.state.doctorMail};n.setState((function(e){return Object(H.a)({},t,[].concat(Object(xe.a)(e[t]),[a]))}))},n.addTreatment=function(e){console.log(e),e.preventDefault();var t={_id:null,userMail:n.state.patientMail,numberICD:e.target[0].value,symptomsAndDiagnosis:n.state.symptoms,pharmacotherapy:n.state.pharmacotherapy,medicalAnalysisAndRecommendations:n.state.medicalAnalysis};console.log(t);a(16).post("/treatment",t,{headers:{"Content-Type":"application/json"}},{withCredentials:!0}).then((function(e){console.log(e),alert("Pomy\u015blnie zapisano kart\u0119"),n.setState((function(e){return{treatments:[].concat(Object(xe.a)(e.treatments),[t])}}))})).catch((function(e){console.log(e),console.log(t),alert("Dane nie zosta\u0142y zapisane ze wzgl\u0119du na b\u0142\u0119dne dane")}))},n.state={treatments:n.props.card.treatments,isDoctor:n.props.isDoctor,doctorMail:n.props.user,patientMail:n.props.card.userMail,symptoms:[],pharmacotherapy:[],medicalAnalysis:[],selected:0,expanded:""},n.addTreatment=n.addTreatment.bind(Object($.a)(n)),n.pushToParametersList=n.pushToParametersList.bind(Object($.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"prepareForms",value:function(e,t){var a=this;return r.a.createElement(ne.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center",spacing:2},e.map((function(e){return r.a.createElement(ne.a,{key:e.numberICD+e._id,item:!0},r.a.createElement(re.a,{elevation:3,square:!1},r.a.createElement(Ne.a,{expanded:a.state.expanded===e.numberICD+e._id,onChange:a.handleChangePanel(e.numberICD+e._id)},r.a.createElement(We.a,{expandIcon:r.a.createElement(Le.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Historia choroby ",e.numberICD)),r.a.createElement(Ie.a,null,r.a.createElement(ft,{treatment:e,isDoctor:t,doctorMail:a.state.doctorMail,user:a.state.patientMail})))))})))}},{key:"render",value:function(){var e=this,t=new Date;return r.a.createElement(r.a.Fragment,null,this.prepareForms(this.state.treatments,this.state.isDoctor,this.state.patientMail),this.state.isDoctor?r.a.createElement(re.a,{elevation:1,square:!0},r.a.createElement(ne.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Nowa historia choroby"),r.a.createElement(st.a,{position:"static",color:"default"},r.a.createElement(lt.a,{value:this.state.selected,onChange:this.handleTab,indicatorColor:"primary",textColor:"primary",scrollButtons:"auto","aria-label":"scrollable auto tabs example",centered:!0},r.a.createElement(ct.a,{label:"Symptomy i diagnoza"}),r.a.createElement(ct.a,{label:"Farmakoterapia"}),r.a.createElement(ct.a,{label:"Analiza medyczna i zalecenia"}))),r.a.createElement(gt,{value:this.state.selected,index:0},null!=this.state.symptoms?this.state.symptoms.map((function(e){return r.a.createElement(ut,{key:t.toISOString(),information:e})})):null,r.a.createElement(ut,{handleChange:function(t){return e.pushToParametersList(t,"symptoms")},isDoctor:this.state.isDoctor})),r.a.createElement(gt,{value:this.state.selected,index:1},null!=this.state.pharmacotherapy?this.state.pharmacotherapy.map((function(e){return r.a.createElement(ut,{key:t.toISOString(),information:e})})):null,r.a.createElement(ut,{handleChange:function(t){return e.pushToParametersList(t,"pharmacotherapy")},isDoctor:this.state.isDoctor})),r.a.createElement(gt,{value:this.state.selected,index:2},null!=this.state.medicalAnalysis?this.state.medicalAnalysis.map((function(e){return r.a.createElement(ut,{key:t.toISOString(),information:e})})):null,r.a.createElement(ut,{handleChange:function(t){return e.pushToParametersList(t,"medicalAnalysis")},isDoctor:this.state.isDoctor})),r.a.createElement("form",{onSubmit:this.addTreatment},r.a.createElement(ne.a,{container:!0,justify:"center"},r.a.createElement(te.a,{fullWidth:!0,required:!0,id:"icd",label:"Numer ICD",margin:"normal",variant:"filled",name:"testName"}),r.a.createElement(ne.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ee.a,{type:"submit",id:"button",color:"primary",variant:"contained"},"Zapisz now\u0105 historie")))))):null)}}]),t}(n.Component),yt=function(e){return r.a.createElement(G,null,(function(t){var a=t.user,n=t.card,i=t.isDoctor,o=t.updateCard;return r.a.createElement(Et,Object.assign({},e,{card:n,user:a,updateCard:o,isDoctor:i}))}))},vt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).validateForm=function(){return n.state.email.length>0&&n.state.password.length>0&&n.state.repassword===n.state.password},n.handleChange=function(e){n.setState(Object(H.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.setState({status:"",isStatus:!0});var t={email:n.state.email,password:n.state.password};a(16).post("/user/register",t,{headers:{"Content-Type":"application/json"}}).then((function(e){n.setState({status:"Pomy\u015blnie dokonano rejestracji",isStatus:!1})})).catch((function(e){n.setState({status:"Rejestracja nieudana "+e,isStatus:!1}),alert(e),console.log(e)}))},n.state={email:"",password:"",repassword:"",status:"",isStatus:!1},n.handleSubmit=n.handleSubmit.bind(Object($.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(je.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(y.a,{align:"center",component:"h1",variant:"h5"},"Rejestracja"),r.a.createElement(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email ",name:"email",autoComplete:"Adres email",autoFocus:!0,onChange:this.handleChange}),r.a.createElement(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Has\u0142o",type:"password",id:"password",autoComplete:"Wpisz has\u0142o",onChange:this.handleChange}),r.a.createElement(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"repassword",label:"Has\u0142o",type:"password",id:"repassword",autoComplete:"Wpisz has\u0142o ponownie",onChange:this.handleChange}),this.state.isStatus?r.a.createElement(y.a,{variant:"h4",component:"h3",align:"center",margin:"normal"},r.a.createElement(Oe.a,{align:"center"})):r.a.createElement(ee.a,{disabled:!this.validateForm(),type:"submit",fullWidth:!0,color:"primary",variant:"contained"},"Zarejestruj")),r.a.createElement(y.a,{variant:"h4",component:"h3",align:"center",margin:"normal"},this.state.status))}}]),t}(n.Component),jt=a(216),Ot=function(){return r.a.createElement(ne.a,{item:!0,xs:6,container:!0,direction:"row",alignItems:"center"},r.a.createElement(jt.a,null,r.a.createElement(y.a,{variant:"h6",component:"h4",align:"center",paragraph:!0},"Witaj na stronie do zarz\u0105dzania kartotekami medycznymi, mo\u017cesz tu dokona\u0107 przegl\u0105du swojej karty lub um\xf3wi\u0107 wizyt\u0119 u lekarza.")))};function Ct(e){var t=e.children,a=e.value,n=e.index,i=Object(we.a)(e,["children","value","index"]);return r.a.createElement(y.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},i),r.a.createElement(mt.a,{p:3},t))}var Dt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleTab=function(e,t){a.setState({selected:t})},a.state={card:null,doctorMail:a.props.user,isDoctor:a.props.isDoctor,selected:0,doctorCard:a.props.doctorCard},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;a(16).get("/card/"+this.props.match.params.patientMail,NaN,{withCredentials:!0}).then((function(t){console.log(t.data),e.setState({card:t.data})})).catch((function(e){console.log(e),alert("Dane nie zosta\u0142y pobrane, spr\xf3buj ponownie")}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},"Kartoteka pacjenta")),null!=this.state.card?r.a.createElement(re.a,{elevation:1,square:!0},r.a.createElement(ne.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(st.a,{position:"static",color:"default"},r.a.createElement(lt.a,{value:this.state.selected,onChange:this.handleTab,indicatorColor:"primary",textColor:"primary",scrollButtons:"auto","aria-label":"scrollable auto tabs example",centered:!0},r.a.createElement(ct.a,{label:"Dane osobowe"}),r.a.createElement(ct.a,{label:"Skierowania"}),r.a.createElement(ct.a,{label:"Badania"}),r.a.createElement(ct.a,{label:"Recepty"}),r.a.createElement(ct.a,{label:"Historia chor\xf3b"}))),r.a.createElement(Ct,{value:this.state.selected,index:0},r.a.createElement(le,{card:this.state.card,isDoctor:this.state.isDoctor,updateCard:this.props.updateCard})),r.a.createElement(Ct,{value:this.state.selected,index:1},r.a.createElement(it,{card:this.state.card,isDoctor:this.state.isDoctor,updateCard:this.props.updateCard,user:this.state.doctorMail,numberPWZ:this.state.doctorCard.numberPWZ})),r.a.createElement(Ct,{value:this.state.selected,index:2},r.a.createElement(Ue,{card:this.state.card,isDoctor:this.state.isDoctor,updateCard:this.props.updateCard,user:this.state.doctorMail})),r.a.createElement(Ct,{value:this.state.selected,index:3},r.a.createElement(et,{card:this.state.card,isDoctor:this.state.isDoctor,updateCard:this.props.updateCard,user:this.state.doctorMail,numberPWZ:this.state.doctorCard.numberPWZ})),r.a.createElement(Ct,{value:this.state.selected,index:4},r.a.createElement(Et,{card:this.state.card,isDoctor:this.state.isDoctor,updateCard:this.props.updateCard,user:this.state.doctorMail})))):r.a.createElement(Oe.a,{align:"center"}))}}]),t}(n.Component),wt=function(e){return r.a.createElement(G,null,(function(t){var a=t.updateCard,n=t.isDoctor,i=t.user,o=t.doctorCard;return r.a.createElement(Dt,Object.assign({},e,{isDoctor:n,user:i,updateCard:a,doctorCard:o}))}))},kt={appBar:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,marginTop:25,background:"rgb(249, 249, 252)"}},Pt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Q,null,r.a.createElement(p.a,null,r.a.createElement(Y,null),r.a.createElement(ne.a,{container:!0,direction:"column",alignItems:"center",justify:"center",style:kt.appBar},r.a.createElement(h.d,null,r.a.createElement(ke,{exact:!0,path:"/home",component:function(){return r.a.createElement(ve,null)}}),r.a.createElement(ke,{exact:!0,path:"/appointments",component:function(){return r.a.createElement(Fe,null)}}),r.a.createElement(ke,{exact:!0,path:"/doctor-list",component:function(){return r.a.createElement(Ze,null)}}),r.a.createElement(ke,{exact:!0,path:"/medical-tests",component:Ge}),r.a.createElement(ke,{exact:!0,path:"/prescriptions",component:function(){return r.a.createElement(tt,null)}}),r.a.createElement(ke,{exact:!0,path:"/treatments",component:yt}),r.a.createElement(ke,{exact:!0,path:"/referrals",component:function(){return r.a.createElement(ot,null)}}),r.a.createElement(ke,{path:"/doctor-card/:doctorMail",component:Ee}),r.a.createElement(ke,{exact:!0,path:"/card",component:function(){return r.a.createElement(ce,null)}}),r.a.createElement(ke,{path:"/patient-card/:patientMail",component:wt}),r.a.createElement(ke,{exact:!0,path:"/logout",component:function(){return r.a.createElement(ze,{cookies:e.props.cookies})}}),r.a.createElement(h.b,{exact:!0,path:"/",component:function(){return r.a.createElement(Ot,null)}}),r.a.createElement(h.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(De,{cookies:e.props.cookies})}}),r.a.createElement(h.b,{exact:!0,path:"/register",component:function(){return r.a.createElement(vt,null)}})))))}}]),t}(n.Component),St=Object(d.b)(Pt);o.a.render(r.a.createElement(d.a,null,r.a.createElement(St,null)),document.getElementById("root"))}},[[123,1,2]]]);
//# sourceMappingURL=main.a98da51a.chunk.js.map